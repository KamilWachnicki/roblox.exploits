Operator={"k","M","B","T","qd","Qn","sx","Sp","O","N","de","Ud","DD","tdD","qdD","QnD","sxD","SpD","OcD","NvD","Vgn","UVg","DVg","TVg","qtV","QnV","SeV","SPG","OVG","NVG","TGN","UTG","DTG","tsTG","qtTG","QnTG","ssTG","SpTG","OcTG","NoTG","QdDR","uQDR","dQDR","tQDR","qdQDR","QnQDR","sxQDR","SpQDR","OQDDr","NQDDr","qQGNT","uQGNT","dQGNT","tQGNT","qdQGNT","QnQGNT","sxQGNT","SpQGNT", "OQQGNT","NQQGNT","SXGNTL"}
getgenv().AntiGlitch = true
getgenv().AutoFarm = false
local isCalculated = false
local LastRebirthTime = 0
local CalculatedInt = 0


function calculatorFunction()
    spawn(function()
        while wait(0.1) do
            if not getgenv().AutoFarm == true then break end
        if isCalculated == false then
        local RebornValueString =game:GetService("Players").wertezown.PlayerGui.GUI.Settings.Menu.PrimaryUtil.Rebirth.Reborn.Text
        RebornValueString = RebornValueString:gsub('%s', " ")
        RebornValueString = RebornValueString:gsub('Reborn', " ")
        RebornValueString = RebornValueString:gsub('%$', " ")
        local RebornOperator = string.match(RebornValueString,"%a+")
        local RebornValueInt = string.match(RebornValueString,"%d+")
        local count = 0
        local number1 = "0"
        for _,v in pairs(Operator) do count=count+1
            if Operator[count] == RebornOperator then
                count=count*3
                number1=string.rep(number1,count)
                CalculatedInt=RebornValueInt..number1
                CalculatedInt=tonumber(CalculatedInt)
            end
        isCalculated = true
        end 
        else
            wait(0.5)
         end
        end
    end)
end

function layoutFunction()
    spawn(function()
        wait(0.5)
        local args = {[1] ="Load",[2] ="Layout2"}
        game:GetService("ReplicatedStorage").Layouts:InvokeServer(unpack(args))
    end)
end
function RebornFunction()
    spawn(function()
        while wait(0.1) do
            if not getgenv().AutoFarm == true then break end
            local PlayerMoney = game:GetService("Players").wertezown.PlayerGui.GUI.Money.Value
            if CalculatedInt <= PlayerMoney then
                print(CalculatedInt)
                print(PlayerMoney)
                local args = {[1] = 26}
                game:GetService("ReplicatedStorage").Rebirth:InvokeServer(unpack(args))
                isCalculated = false
                LastRebirthTime = 0
                wait(0.5)
                layoutFunction()
                else
                    wait(1)
            end
        end
    end)
end

spawn(function()
        while wait(0.1) do
            while getgenv().AntiGlitch == true do
            if LastRebirthTime >= 450 then
                print("Layout glitched,proceeding to automatically reboot the tycoon...")
                
                wait(5)
                layoutFunction()
            end
            print("Im working!!!")
            LastRebirthTime = LastRebirthTime + 1
            wait(1)
            end
         end
end)
        
function AutoFarm()
    spawn(function()
        calculatorFunction()
        RebornFunction()
        end)
end

local library = loadstring(game:HttpGet(('https://raw.githubusercontent.com/KamilWachnicki/Roblox.Libraries/main/Wally.UI3')))()
local w = library:CreateWindow("Miners's Haven")
local a = w:CreateFolder("Main")
a:Toggle("Auto Farm",function(bool)
    getgenv().AutoFarm = bool
    if bool then
        AutoFarm()
    end
end)   

a:Button("Layout Load",function()
    layoutFunction()
end)
a:DestroyGui()
